{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./styles/LoginComponent.css';import axios from'axios';// Import axios for making HTTP requests\nimport{useNavigate}from'react-router-dom';// Import useNavigate\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginComponent=()=>{const[isDarkMode,setIsDarkMode]=useState(false);const[username,setUsername]=useState('');// State for username\nconst[password,setPassword]=useState('');// State for password\nconst[error,setError]=useState('');// State for error messages\nconst navigate=useNavigate();// Initialize useNavigate\nuseEffect(()=>{const savedTheme=localStorage.getItem('theme');if(savedTheme==='dark'){setIsDarkMode(true);}},[]);useEffect(()=>{if(isDarkMode){document.body.classList.add('dark-mode');localStorage.setItem('theme','dark');}else{document.body.classList.remove('dark-mode');localStorage.setItem('theme','light');}},[isDarkMode]);const toggleTheme=()=>{setIsDarkMode(!isDarkMode);};const handleLogin=async e=>{e.preventDefault();// Prevent default form submission\ntry{const response=await axios.post('http://localhost:5000/api/auth/login',{username,password});console.log(response.data);// Handle successful login\n// Check if the user role is admin\nif(response.data.role==='Admin'||response.data.role==='admin'){navigate('/admin');// Navigate to AddUser if the role is admin\n}if(response.data.role==='Teacher'||response.data.role==='teacher'){navigate('/teacher');// Navigate to AddUser if the role is admin\n}else{setError('You do not have permission to access this page.');// Set error message for non-admin users\n}}catch(err){console.error('Login error:',err.response?err.response.data:err.message);setError('Invalid username or password');// Set error message on failure\n}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsxs(\"svg\",{version:\"1.1\",xmlns:\"http://www.w3.org/2000/svg\",width:\"128\",height:\"128\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M0 0 C42.24 0 84.48 0 128 0 C128 42.24 128 84.48 128 128 C85.76 128 43.52 128 0 128 C0 85.76 0 43.52 0 0 Z \",fill:\"#FDFEFE\",transform:\"translate(0,0)\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M0 0 C4.80133868 -0.12473502 9.60170955 -0.21486503 14.40429688 -0.2746582 C16.03369603 -0.29961442 17.66298542 -0.33359254 19.29199219 -0.37719727 C30.3382682 -0.66521366 38.57650925 -0.3426149 47.4375 7.02734375 C52.99664083 13.82339342 54.54274114 19.21302662 54.37890625 28.02734375 C53.5980531 34.15341847 50.27047888 38.09194913 45.6875 42 C44.800625 42.66 43.91375 43.32 43 44 C44.42271253 47.96959378 46.32092068 51.18987612 48.6953125 54.66796875 C49.41074219 55.72564453 50.12617187 56.78332031 50.86328125 57.87304688 C51.61665664 58.97822664 52.37056916 60.08304044 53.125 61.1875 C54.61207112 63.36501956 56.09286657 65.54636017 57.5703125 67.73046875 C58.22789551 68.69364014 58.88547852 69.65681152 59.56298828 70.64916992 C61 73 61 73 61 75 C53.45474401 76.4577614 45.35047542 77.75565318 38 75 C32.08039049 69.39426291 28.75854869 61.62782114 25.60131836 54.22485352 C23.85842685 51.25227902 23.85842685 51.25227902 18 51 C18 58.92 18 66.84 18 75 C11.73 75 5.46 75 -1 75 C-1.21702634 70.99706969 -1.37495239 67.00598943 -1.5 63 C-1.56703125 61.87464844 -1.6340625 60.74929687 -1.703125 59.58984375 C-1.89640552 51.32710139 -1.89640552 51.32710139 0.66259766 47.53857422 C2.67618682 45.51184581 4.73721162 43.74068977 7 42 C7.81210937 41.26007813 8.62421875 40.52015625 9.4609375 39.7578125 C10.09257813 39.21898437 10.72421875 38.68015625 11.375 38.125 C13.32104962 36.45806507 15.18703291 34.81296709 17 33 C19.4609375 32.65625 19.4609375 32.65625 22.375 32.5 C26.08362801 32.30007396 28.83329727 32.02437617 32 30 C33.52150158 26.95699684 33.23899393 24.345915 33 21 C29.48281398 18.65520932 28.89118093 19.05057313 24.875 19.375 C15.22071752 18.86563295 8.79661494 10.22196803 2.48364258 3.67993164 C1 2 1 2 0 0 Z \",fill:\"#046E3D\",transform:\"translate(34,27)\"})]})}),/*#__PURE__*/_jsx(\"h1\",{className:\"app-name\",children:\"ResourceLink\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"login-form\",onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",className:\"login-input\",value:username,onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",className:\"login-input\",value:password,onChange:e=>setPassword(e.target.value)}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-options\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"remember-me\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Remember me\"})]}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"forgot-password\",children:\"Forgot password?\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login-button\",children:\"Log in\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"theme-toggle\",onClick:toggleTheme,children:isDarkMode?'☀️':'🌑'})]});};export default LoginComponent;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","LoginComponent","isDarkMode","setIsDarkMode","username","setUsername","password","setPassword","error","setError","navigate","savedTheme","localStorage","getItem","document","body","classList","add","setItem","remove","toggleTheme","handleLogin","e","preventDefault","response","post","console","log","data","role","err","message","className","children","version","xmlns","width","height","d","fill","transform","onSubmit","type","placeholder","value","onChange","target","href","onClick"],"sources":["C:/Users/Development/Desktop/resource-link/frontend/src/LoginComponent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport './styles/LoginComponent.css' \r\nimport axios from 'axios'; // Import axios for making HTTP requests\r\nimport { useNavigate } from 'react-router-dom'; // Import useNavigate\r\n\r\nconst LoginComponent = () => {\r\n  const [isDarkMode, setIsDarkMode] = useState(false);\r\n  const [username, setUsername] = useState(''); // State for username\r\n  const [password, setPassword] = useState(''); // State for password\r\n  const [error, setError] = useState(''); // State for error messages\r\n  const navigate = useNavigate(); // Initialize useNavigate\r\n\r\n  useEffect(() => {\r\n    const savedTheme = localStorage.getItem('theme');\r\n    if (savedTheme === 'dark') {\r\n      setIsDarkMode(true);\r\n      \r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isDarkMode) {\r\n      document.body.classList.add('dark-mode');\r\n      localStorage.setItem('theme', 'dark');\r\n    } else {\r\n      document.body.classList.remove('dark-mode');\r\n      localStorage.setItem('theme', 'light');\r\n    }\r\n  }, [isDarkMode]);\r\n\r\n  const toggleTheme = () => {\r\n    setIsDarkMode(!isDarkMode);\r\n  };\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault(); // Prevent default form submission\r\n    try {\r\n      const response = await axios.post('http://localhost:5000/api/auth/login', {\r\n        username,\r\n        password,\r\n      });\r\n      console.log(response.data); // Handle successful login\r\n\r\n      // Check if the user role is admin\r\n      if (response.data.role === 'Admin' || response.data.role === 'admin') {\r\n        navigate('/admin'); // Navigate to AddUser if the role is admin\r\n      }\r\n      if (response.data.role === 'Teacher' || response.data.role === 'teacher') {\r\n        navigate('/teacher'); // Navigate to AddUser if the role is admin\r\n      } else {\r\n        setError('You do not have permission to access this page.'); // Set error message for non-admin users\r\n      }\r\n    } catch (err) {\r\n      console.error('Login error:', err.response ? err.response.data : err.message);\r\n      setError('Invalid username or password'); // Set error message on failure\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <div className=\"logo\">\r\n          <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"128\" height=\"128\">\r\n            <path d=\"M0 0 C42.24 0 84.48 0 128 0 C128 42.24 128 84.48 128 128 C85.76 128 43.52 128 0 128 C0 85.76 0 43.52 0 0 Z \" fill=\"#FDFEFE\" transform=\"translate(0,0)\"/>\r\n            <path d=\"M0 0 C4.80133868 -0.12473502 9.60170955 -0.21486503 14.40429688 -0.2746582 C16.03369603 -0.29961442 17.66298542 -0.33359254 19.29199219 -0.37719727 C30.3382682 -0.66521366 38.57650925 -0.3426149 47.4375 7.02734375 C52.99664083 13.82339342 54.54274114 19.21302662 54.37890625 28.02734375 C53.5980531 34.15341847 50.27047888 38.09194913 45.6875 42 C44.800625 42.66 43.91375 43.32 43 44 C44.42271253 47.96959378 46.32092068 51.18987612 48.6953125 54.66796875 C49.41074219 55.72564453 50.12617187 56.78332031 50.86328125 57.87304688 C51.61665664 58.97822664 52.37056916 60.08304044 53.125 61.1875 C54.61207112 63.36501956 56.09286657 65.54636017 57.5703125 67.73046875 C58.22789551 68.69364014 58.88547852 69.65681152 59.56298828 70.64916992 C61 73 61 73 61 75 C53.45474401 76.4577614 45.35047542 77.75565318 38 75 C32.08039049 69.39426291 28.75854869 61.62782114 25.60131836 54.22485352 C23.85842685 51.25227902 23.85842685 51.25227902 18 51 C18 58.92 18 66.84 18 75 C11.73 75 5.46 75 -1 75 C-1.21702634 70.99706969 -1.37495239 67.00598943 -1.5 63 C-1.56703125 61.87464844 -1.6340625 60.74929687 -1.703125 59.58984375 C-1.89640552 51.32710139 -1.89640552 51.32710139 0.66259766 47.53857422 C2.67618682 45.51184581 4.73721162 43.74068977 7 42 C7.81210937 41.26007813 8.62421875 40.52015625 9.4609375 39.7578125 C10.09257813 39.21898437 10.72421875 38.68015625 11.375 38.125 C13.32104962 36.45806507 15.18703291 34.81296709 17 33 C19.4609375 32.65625 19.4609375 32.65625 22.375 32.5 C26.08362801 32.30007396 28.83329727 32.02437617 32 30 C33.52150158 26.95699684 33.23899393 24.345915 33 21 C29.48281398 18.65520932 28.89118093 19.05057313 24.875 19.375 C15.22071752 18.86563295 8.79661494 10.22196803 2.48364258 3.67993164 C1 2 1 2 0 0 Z \" fill=\"#046E3D\" transform=\"translate(34,27)\"/>\r\n          </svg>\r\n      </div>\r\n      <h1 className=\"app-name\">ResourceLink</h1>\r\n      <form className=\"login-form\" onSubmit={handleLogin}>\r\n        <input \r\n          type=\"text\" \r\n          placeholder=\"Username\" \r\n          className=\"login-input\" \r\n          value={username} \r\n          onChange={(e) => setUsername(e.target.value)}\r\n        />\r\n        <input \r\n          type=\"password\" \r\n          placeholder=\"Password\" \r\n          className=\"login-input\" \r\n          value={password} \r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        {error && <p className=\"error-message\">{error}</p>}\r\n        <div className=\"login-options\">\r\n          <label className=\"remember-me\">\r\n            <input type=\"checkbox\" />\r\n            <span>Remember me</span>\r\n          </label>\r\n          <a href=\"#\" className=\"forgot-password\">Forgot password?</a>\r\n        </div>\r\n        <button type=\"submit\" className=\"login-button\">Log in</button>\r\n      </form>\r\n      <button className=\"theme-toggle\" onClick={toggleTheme}>\r\n        {isDarkMode ? '☀️' : '🌑'}\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoginComponent\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,6BAA6B,CACpC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAE;AAC3B,OAASC,WAAW,KAAQ,kBAAkB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhD,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGV,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACW,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAAE;AAC9C,KAAM,CAACa,QAAQ,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAAE;AAC9C,KAAM,CAACe,KAAK,CAAEC,QAAQ,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAAE;AACxC,KAAM,CAAAiB,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAAE;AAEhCF,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,UAAU,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAChD,GAAIF,UAAU,GAAK,MAAM,CAAE,CACzBR,aAAa,CAAC,IAAI,CAAC,CAErB,CACF,CAAC,CAAE,EAAE,CAAC,CAENT,SAAS,CAAC,IAAM,CACd,GAAIQ,UAAU,CAAE,CACdY,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACC,GAAG,CAAC,WAAW,CAAC,CACxCL,YAAY,CAACM,OAAO,CAAC,OAAO,CAAE,MAAM,CAAC,CACvC,CAAC,IAAM,CACLJ,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACG,MAAM,CAAC,WAAW,CAAC,CAC3CP,YAAY,CAACM,OAAO,CAAC,OAAO,CAAE,OAAO,CAAC,CACxC,CACF,CAAC,CAAE,CAAChB,UAAU,CAAC,CAAC,CAEhB,KAAM,CAAAkB,WAAW,CAAGA,CAAA,GAAM,CACxBjB,aAAa,CAAC,CAACD,UAAU,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAmB,WAAW,CAAG,KAAO,CAAAC,CAAC,EAAK,CAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAAE;AACpB,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAA7B,KAAK,CAAC8B,IAAI,CAAC,sCAAsC,CAAE,CACxErB,QAAQ,CACRE,QACF,CAAC,CAAC,CACFoB,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACI,IAAI,CAAC,CAAE;AAE5B;AACA,GAAIJ,QAAQ,CAACI,IAAI,CAACC,IAAI,GAAK,OAAO,EAAIL,QAAQ,CAACI,IAAI,CAACC,IAAI,GAAK,OAAO,CAAE,CACpEnB,QAAQ,CAAC,QAAQ,CAAC,CAAE;AACtB,CACA,GAAIc,QAAQ,CAACI,IAAI,CAACC,IAAI,GAAK,SAAS,EAAIL,QAAQ,CAACI,IAAI,CAACC,IAAI,GAAK,SAAS,CAAE,CACxEnB,QAAQ,CAAC,UAAU,CAAC,CAAE;AACxB,CAAC,IAAM,CACLD,QAAQ,CAAC,iDAAiD,CAAC,CAAE;AAC/D,CACF,CAAE,MAAOqB,GAAG,CAAE,CACZJ,OAAO,CAAClB,KAAK,CAAC,cAAc,CAAEsB,GAAG,CAACN,QAAQ,CAAGM,GAAG,CAACN,QAAQ,CAACI,IAAI,CAAGE,GAAG,CAACC,OAAO,CAAC,CAC7EtB,QAAQ,CAAC,8BAA8B,CAAC,CAAE;AAC5C,CACF,CAAC,CAED,mBACET,KAAA,QAAKgC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BnC,IAAA,QAAKkC,SAAS,CAAC,MAAM,CAAAC,QAAA,cACjBjC,KAAA,QAAKkC,OAAO,CAAC,KAAK,CAACC,KAAK,CAAC,4BAA4B,CAACC,KAAK,CAAC,KAAK,CAACC,MAAM,CAAC,KAAK,CAAAJ,QAAA,eAC5EnC,IAAA,SAAMwC,CAAC,CAAC,6GAA6G,CAACC,IAAI,CAAC,SAAS,CAACC,SAAS,CAAC,gBAAgB,CAAC,CAAC,cACjK1C,IAAA,SAAMwC,CAAC,CAAC,wsDAAwsD,CAACC,IAAI,CAAC,SAAS,CAACC,SAAS,CAAC,kBAAkB,CAAC,CAAC,EAC3vD,CAAC,CACL,CAAC,cACN1C,IAAA,OAAIkC,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,cAAY,CAAI,CAAC,cAC1CjC,KAAA,SAAMgC,SAAS,CAAC,YAAY,CAACS,QAAQ,CAAEpB,WAAY,CAAAY,QAAA,eACjDnC,IAAA,UACE4C,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,UAAU,CACtBX,SAAS,CAAC,aAAa,CACvBY,KAAK,CAAExC,QAAS,CAChByC,QAAQ,CAAGvB,CAAC,EAAKjB,WAAW,CAACiB,CAAC,CAACwB,MAAM,CAACF,KAAK,CAAE,CAC9C,CAAC,cACF9C,IAAA,UACE4C,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,UAAU,CACtBX,SAAS,CAAC,aAAa,CACvBY,KAAK,CAAEtC,QAAS,CAChBuC,QAAQ,CAAGvB,CAAC,EAAKf,WAAW,CAACe,CAAC,CAACwB,MAAM,CAACF,KAAK,CAAE,CAC9C,CAAC,CACDpC,KAAK,eAAIV,IAAA,MAAGkC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEzB,KAAK,CAAI,CAAC,cAClDR,KAAA,QAAKgC,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BjC,KAAA,UAAOgC,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC5BnC,IAAA,UAAO4C,IAAI,CAAC,UAAU,CAAE,CAAC,cACzB5C,IAAA,SAAAmC,QAAA,CAAM,aAAW,CAAM,CAAC,EACnB,CAAC,cACRnC,IAAA,MAAGiD,IAAI,CAAC,GAAG,CAACf,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,kBAAgB,CAAG,CAAC,EACzD,CAAC,cACNnC,IAAA,WAAQ4C,IAAI,CAAC,QAAQ,CAACV,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC1D,CAAC,cACPnC,IAAA,WAAQkC,SAAS,CAAC,cAAc,CAACgB,OAAO,CAAE5B,WAAY,CAAAa,QAAA,CACnD/B,UAAU,CAAG,IAAI,CAAG,IAAI,CACnB,CAAC,EACN,CAAC,CAEV,CAAC,CAED,cAAe,CAAAD,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}