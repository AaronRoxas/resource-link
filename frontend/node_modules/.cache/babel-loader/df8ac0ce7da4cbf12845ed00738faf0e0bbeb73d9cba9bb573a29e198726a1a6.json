{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';// Import axios for making HTTP requests\nimport Modal from'../components/Modal';// Import the Modal component\nimport'../styles/AddUser.css';import BottomNav from'../components/BottomNav';// Import the BottomNav component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddUser=()=>{const[name,setName]=useState('');const[username,setUsername]=useState('');const[department,setDepartment]=useState('');const[role,setRole]=useState('');const[isMobile,setIsMobile]=useState(window.innerWidth<768);const[showModal,setShowModal]=useState(false);// State for modal visibility\nuseEffect(()=>{const handleResize=()=>{setIsMobile(window.innerWidth<768);};window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[]);const handleSubmit=async e=>{e.preventDefault();const password='1234';// Default password\ntry{const response=await axios.post('http://localhost:5000/api/auth/register',{username,password,name,department,role:role.toLowerCase()});console.log('User created:',response.data);// Show success modal\nsetShowModal(true);// Optionally reset the form\nsetName('');setUsername('');setDepartment('');setRole('');}catch(error){console.error('Error creating user:',error.response?error.response.data:error.message);}};const closeModal=()=>{setShowModal(false);};// Define the navigation items\nconst navItems=[{path:'/admin',icon:'home',label:'Home'},{path:'/chart',icon:'chart',label:'Chart'},{path:'/qr-code',icon:'qr',label:'QR Code'},{path:'/addUser',icon:'active-profile',label:'Add User'},{path:'/categories',icon:'cube',label:'Categories'}];return/*#__PURE__*/_jsxs(\"div\",{className:\"add-user-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:isMobile?'Create User':'Create New User'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:e=>setUsername(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Department\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:department,onChange:e=>setDepartment(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{defaultValue:\"Teacher\"// This should be set directly in the select element\n,value:role,onChange:e=>setRole(e.target.value)// Corrected this line\n,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Teacher\",children:\"Teacher\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Staff\",children:\"Staff\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Admin\",children:\"Admin\"})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"create-button\",children:isMobile?'Create':'Create User'})]}),showModal&&/*#__PURE__*/_jsx(Modal,{message:\"User created successfully!\",onClose:closeModal}),/*#__PURE__*/_jsx(BottomNav,{navItems:navItems}),\" \"]});};export default AddUser;","map":{"version":3,"names":["React","useState","useEffect","axios","Modal","BottomNav","jsx","_jsx","jsxs","_jsxs","AddUser","name","setName","username","setUsername","department","setDepartment","role","setRole","isMobile","setIsMobile","window","innerWidth","showModal","setShowModal","handleResize","addEventListener","removeEventListener","handleSubmit","e","preventDefault","password","response","post","toLowerCase","console","log","data","error","message","closeModal","navItems","path","icon","label","className","children","onSubmit","type","value","onChange","target","defaultValue","onClose"],"sources":["C:/Users/Development/Desktop/resource-link/frontend/src/dashboards/AddUser.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios'; // Import axios for making HTTP requests\r\nimport Modal from '../components/Modal'; // Import the Modal component\r\nimport '../styles/AddUser.css'; \r\nimport BottomNav from '../components/BottomNav'; // Import the BottomNav component\r\n\r\nconst AddUser = () => {\r\n  const [name, setName] = useState('');\r\n  const [username, setUsername] = useState('');\r\n  const [department, setDepartment] = useState('');\r\n  const [role, setRole] = useState('');\r\n  const [isMobile, setIsMobile] = useState(window.innerWidth < 768);\r\n  const [showModal, setShowModal] = useState(false); // State for modal visibility\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setIsMobile(window.innerWidth < 768);\r\n    };\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const password = '1234'; // Default password\r\n\r\n    try {\r\n      const response = await axios.post('http://localhost:5000/api/auth/register', {\r\n        username,\r\n        password,\r\n        name,\r\n        department,\r\n        role: role.toLowerCase(),\r\n      });\r\n      console.log('User created:', response.data);\r\n      \r\n      // Show success modal\r\n      setShowModal(true);\r\n\r\n      // Optionally reset the form\r\n      setName('');\r\n      setUsername('');\r\n      setDepartment('');\r\n      setRole('');\r\n    } catch (error) {\r\n      console.error('Error creating user:', error.response ? error.response.data : error.message);\r\n    }\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n  };\r\n\r\n    // Define the navigation items\r\n    const navItems = [\r\n      { path: '/admin', icon: 'home', label: 'Home' },\r\n      { path: '/chart', icon: 'chart', label: 'Chart' },\r\n      { path: '/qr-code', icon: 'qr', label: 'QR Code' },\r\n      { path: '/addUser', icon: 'active-profile', label: 'Add User' },\r\n      { path: '/categories', icon: 'cube', label: 'Categories' },\r\n    ];\r\n\r\n  return (\r\n    <div className=\"add-user-container\">\r\n      <h2>{isMobile ? 'Create User' : 'Create New User'}</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label>Name</label>\r\n          <input\r\n            type=\"text\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Username</label>\r\n          <input\r\n            type=\"text\"\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Department</label>\r\n          <input\r\n            type=\"text\"\r\n            value={department}\r\n            onChange={(e) => setDepartment(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Role</label>\r\n          <select\r\n              defaultValue=\"Teacher\" // This should be set directly in the select element\r\n              value={role}\r\n              onChange={(e) => setRole(e.target.value)} // Corrected this line\r\n             \r\n          >\r\n            <option value=\"Teacher\">Teacher</option>\r\n            <option value=\"Staff\">Staff</option>\r\n            <option value=\"Admin\">Admin</option>\r\n          </select>\r\n        </div>\r\n        <button type=\"submit\" className=\"create-button\">\r\n          {isMobile ? 'Create' : 'Create User'}\r\n        </button>\r\n      </form>\r\n\r\n      {showModal && (\r\n        <Modal message=\"User created successfully!\" onClose={closeModal} />\r\n      )}\r\n            <BottomNav navItems={navItems} /> {/* Use the BottomNav component */}\r\n    </div>\r\n    \r\n  );\r\n};\r\n\r\nexport default AddUser;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}